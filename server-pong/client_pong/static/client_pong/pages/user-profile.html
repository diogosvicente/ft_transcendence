<!-- static/client_pong/pages/user-profile.html -->

<div class="user-profile-container">
  <!-- Container de loading/erro -->
  <div id="profile-loading" class="text-center mt-4">Carregando perfil...</div>
  <div id="profile-error" class="alert alert-danger d-none"></div>

  <!-- Conteúdo do perfil -->
  <div id="profile-content" class="d-none">
    <!-- Header -->
    <div class="profile-header row mb-4">
      <div class="col-md-3 text-center">
        <img id="profile-avatar" class="avatar-lg rounded-circle mb-2" alt="Avatar">
        <h3 id="profile-username" class="h4"></h3>
      </div>
      <div class="col-md-9 text-end">
        <button id="edit-profile-btn" class="btn btn-primary btn-sm mt-3 d-none">
          <i class="bi bi-pencil-square"></i> Editar Perfil
        </button>
      </div>
    </div>

    <!-- Estatísticas -->
    <div class="profile-stats card mb-4">
      <div class="card-body">
        <div class="row text-center">
          <div class="col-md-4">
            <h5 class="stats-title">Vitórias</h5>
            <p id="stats-wins" class="stats-value">0</p>
          </div>
          <div class="col-md-4">
            <h5 class="stats-title">Derrotas</h5>
            <p id="stats-losses" class="stats-value">0</p>
          </div>
          <div class="col-md-4">
            <h5 class="stats-title">Win Rate</h5>
            <p id="stats-winrate" class="stats-value">0%</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Histórico de Partidas -->
    <div class="match-history card">
      <div class="card-header">
        <h4 class="mb-0">Histórico de Partidas</h4>
      </div>
      <div class="card-body">
        <ul id="match-history-list" class="list-group"></ul>
      </div>
    </div>
  </div>

  <div id="edit-profile-form" class="card mb-4 d-none">
    <div class="card-body">
      <h5 class="card-title">Editar Perfil</h5>

      <form id="profile-form">
        <div class="mb-3">
          <label for="display-name" class="form-label">Nome de exibição</label>
          <input type="text" class="form-control" id="display-name" required>
        </div>

        <div class="mb-3">
          <label for="avatar-upload" class="form-label">Foto do perfil</label>
          <input type="file" class="form-control" id="avatar-upload" accept="image/*">
          <div class="form-text">Formatos suportados: JPG, PNG, GIF</div>
        </div>

        <div class="mb-3">
          <label for="new-password" class="form-label">Nova Senha</label>
          <input type="password" class="form-control" id="new-password" autocomplete="new-password" minlength="8">
          <div class="form-text">Deixe em branco para não alterar</div>
        </div>

        <div class="mb-3">
          <label for="confirm-password" class="form-label">Confirmar Nova Senha</label>
          <input type="password" class="form-control" id="confirm-password" autocomplete="new-password">
        </div>

        <!-- Switch 2FA -->
        <div class="mb-3 form-check form-switch">
          <input type="checkbox" class="form-check-input" id="2fa-switch">
          <label class="form-check-label" for="2fa-switch">Autenticação em Dois Fatores (2FA)</label>
        </div>

        <div class="d-flex gap-2">
          <button type="button" class="btn btn-secondary" onclick="cancelEdit()">Cancelar</button>
          <button type="submit" class="btn btn-primary">Salvar Alterações</button>
        </div>
      </form>

    </div>
  </div>
</div>
